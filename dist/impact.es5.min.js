/*!
impact-js - v0.0.1
03.04.2017
License: MIT
*/
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},namespace={};"undefined"!=typeof module?(module.exports=namespace,namespace.global=global):(window.impact=namespace,namespace.global=window),function(){function a(a){return document.createElement(a)}function b(a){return document.createTextNode(a)}function c(a,b){Object.keys(b).forEach(function(c){var f=b[c];"class"===c?d(a,f):"style"===c?e(a,f):f&&(c=B[c]||c,"function"==typeof f&&0===c.indexOf("on")?a[c]=function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return l.apply(void 0,[a,f].concat(c))}:("function"==typeof f&&(f=f()),C.includes(c)?a.setAttribute(c,f):a[c]=f))})}function d(a,b){var c=[],e=Array.prototype.slice.call(a.classList);"string"==typeof b?c=b.split(" "):"function"==typeof b?d(a,b()):"object"===("undefined"==typeof b?"undefined":_typeof(b))&&Object.getOwnPropertyNames(b).forEach(function(d){var e=d,f=b[d];"function"==typeof f&&(f=f()),f=!!f,f===!0?c.push(e):a.classList.remove(e)}),c.forEach(function(b){e.includes(b)||a.classList.add(b)})}function e(a,b){return b?void Object.keys(b).forEach(function(c){c in a.style&&("function"==typeof b[c]?a.style[c]=b[c]():a.style[c]=b[c])}):void a.removeAttribute("styles")}function f(a,b){for(var d=arguments.length,e=Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];var h=namespace.createNode(a),k={},l={};return Array.isArray(b)?e.unshift(b):"function"==typeof b?e.unshift(b):"object"===("undefined"==typeof b?"undefined":_typeof(b))?k=b:"undefined"!=typeof b&&e.unshift(b),e=i(e),e=e.map(function(a){return"function"!=typeof a?j(function(){return""+a}):a}),h.$apply=function(){return c(h,k),g(h,e),h},h.$apply.el=h,h.broadcast=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=Array.prototype.slice.call(h.childNodes);l[a]=l[a]||[],l[a].forEach(function(a){setTimeout(function(){a.call.apply(a,[h].concat(c))})}),e.forEach(function(b){"function"==typeof b.broadcast&&b.broadcast.apply(b,[a].concat(c))})},h.on=function(a,b){l[a]=l[a]||[],"function"==typeof b&&l[a].push(b)},k.event&&(Object.getOwnPropertyNames(k.event).forEach(function(a){var b=k.event[a];h.on(a,b)}),delete k.event),h.$apply}function g(a,b,c){function d(b,c){j=Array.prototype.slice.call(a.childNodes);var d=j.indexOf(b),e=j[c];d!==c&&a.insertBefore(b,e)}function e(b,c){if(!j.includes(b)){var d=a.children[c+1];d?a.insertBefore(b,d):a.appendChild(b),i?h(b,"init"):h(b,"add")}}function f(b,c){k.includes(b)||(b.willBeRemoved||(b.willBeRemoved=!0,h(b,"remove",function(){a.removeChild(b),b.willBeRemoved=!1})),b.willBeRemoved&&k.splice(c,0,b))}function g(a){a.forEach(function(a){if("function"==typeof a){var b=a();Array.isArray(b)?g(b):k.push(b)}})}var i=!a.init,j=Array.prototype.slice.call(a.childNodes),k=[];a.init=!0,g(b),c||j.forEach(f),k.forEach(e),k.forEach(d)}function h(a,b,c){var d=a.animation||{},e=300,f="animation-"+b,g="animating";c=c||function(){},d[b]?!function(){var h=d[b].duration||e;a.style.transitionDuration=h+"ms",a.classList.remove(g),a.classList.add(f),namespace.global.requestAnimationFrame(function(){a.classList.add(g),setTimeout(function(){namespace.global.requestAnimationFrame(function(){a.classList.remove(f),a.classList.remove(g),a.style.transitionDuration="",c()})},h)})}():c()}function i(a){function b(a){Array.isArray(a)?a.forEach(function(a){return b(a)}):c.push(a)}var c=[];return b(a),c}function j(a){var b=namespace.createTextNode("");return function(){return b.nodeValue=""+a(),b}}function k(a){for(var b=Date.now(),c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];g(a,d,!0),setTimeout(function(){var a=Date.now();console.log("impact :: render: "+(a-b)+"ms")})}function l(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];setTimeout(function(){b.call.apply(b,[a].concat(d)),m()})}function m(){var a=Date.now();o(namespace.root);var b=Date.now();r("apply"),console.log("impact :: cycle: "+(b-a)+"ms")}function n(a){"function"!=typeof a.$apply||a.$$phase||(a.$$phase=!0,a.$apply(),a.$$phase=!1)}function o(a){var b=Array.prototype.slice.call(a.childNodes);n(a),b.filter(function(a){return"function"==typeof a.$apply}).forEach(o)}function p(a,b){y[a]=y[a]||[],y[a].push(b)}function q(a,b){y[a]=y[a]||[],y[a].includes(b)&&y[a].splice(y[a].indexOf(b),1)}function r(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];y[a]=y[a]||[],y[a].forEach(function(a){return a.apply(void 0,c)})}function s(a,b){return Array(Math.max(b-String(a).length+1,0)).join(0)+a}function t(a){return"object"===("undefined"==typeof a?"undefined":_typeof(a))&&null!==a?(a.$$hash=a.$$hash||s(++z,5),a.$$hash):""+a}function u(a,b,c){if("function"!=typeof a)return a.map(function(a){return b(a)});var d=function(){var c=v(b);return{v:function(){return c(a())}}}();return"object"===("undefined"==typeof d?"undefined":_typeof(d))?d.v:void 0}function v(a){var b={};return function(c){var d=c.map(t);return Object.keys(b).forEach(function(a){d.includes(a)||delete b[a]}),c.map(function(c){var d=t(c);return b[d]=b[d]||a(c),b[d]})}}function w(a,b){return function(){var c=[];return a()&&c.push(b),c}}function x(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}}var y={},z=0,A=["html","base","head","link","meta","style","title","address","article","aside","footer","h1","h2","h3","h4","h5","h6","header","hgroup","nav","section","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","area","audio","img","map","track","video","embed","object","param","source","canvas","noscript","script","del","ins","caption","cal","colgroup","table","tbody","td","tfoot","th","thead","tr","button","datalist","fieldset","form","input","label","legend","meter","optgroup","option","output","progress","select","textarea","details","dialog","menu","menuitem","summary","shadow","slot","template"],B={for:"htmlFor"},C=["value"];A.forEach(function(a){namespace.global[a]=function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return f.apply(void 0,[a].concat(c))}}),namespace.repeat=u,namespace.if=w,namespace.createNode=a,namespace.createTextNode=b,namespace.render=k,namespace.text=j,namespace.on=p,namespace.off=q,namespace.emit=r,namespace.createElement=f,namespace.debounce=x,namespace.apply=x(m,5)}(),function(a,b){b.a=function(){for(var b,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=(b=impact).createElement.apply(b,["a"].concat(d)),g=f();return g.addEventListener("click",function(b){b.preventDefault();var c=a.router.isHtml5Mode()?"":"#",d=g.attributes.item("href").nodeValue;window.history.pushState({},"",c+d)}),"function"==typeof g.onclick&&(g.addEventListener("click",g.onclick),g.onclick=void 0),f}}("undefined"!=typeof module?module.exports:window.impact,"undefined"!=typeof module?global:window),function(a,b){b.form=function(){for(var a,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=(a=impact).createElement.apply(a,["form"].concat(c)),f=e();return"function"!=typeof f.onsubmit&&(f.onsubmit=function(a){return a.preventDefault()}),e}}("undefined"!=typeof module?module.exports:window.impact,"undefined"!=typeof module?global:window),function(a,b){b.input=function(a){var b=a.onkeypress||{};delete a.onkeypress;var c=impact.createElement("input",a),d=c();return d.onkeypress=function(a){b[a.keyCode]&&(b[a.keyCode].call(d,a),impact.apply())},d.$value=function(a){return"undefined"==typeof a?(""+d.value).trim():void(d.value=""+a)},c}}("undefined"!=typeof module?module.exports:window.impact,"undefined"!=typeof module?global:window),function(){function a(a,b){if(b&&"function"!=typeof b)throw new Error("impact.component(name, controller), argument 2 must be typeof function");if(!b&&!namespace.components[a]){var c=new Error("impact.component(name), can't find component with name '"+a+"'");return console.error(c),function(){}}return b?void(namespace.components[a]=b):namespace.components[a]}function b(a,b,c){function d(a){return"function"==typeof a&&(a=a()),c?JSON.stringify(a):Array.isArray(a)?a.length:"string"==typeof a?a.toString?a.toString():JSON.stringify(a):a}function e(c){var e=d(a);f!=e&&(f=e,b(),c!==!1&&namespace.apply())}var f=void 0;return e(!1),namespace.on("apply",e),function(){namespace.off("apply",e)}}namespace.watch=b,namespace.component=a,namespace.components={}}();