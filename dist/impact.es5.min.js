/*!
impact-js - v0.0.1
30.03.2017
License: MIT
*/
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a,b){function c(a){return document.createElement(a)}function d(a){return document.createTextNode(a)}function e(a,b){Object.keys(b).forEach(function(c){var d=b[c];"class"===c?f(a,d):"style"===c?g(a,d):d&&(c=D[c]||c,"function"==typeof d&&0===c.indexOf("on")?a[c]=function(){for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return n.apply(void 0,[a,d].concat(c))}:("function"==typeof d&&(d=d()),E.includes(c)?a.setAttribute(c,d):a[c]=d))})}function f(a,b){var c=[],d=Array.prototype.slice.call(a.classList);"string"==typeof b?c=b.split(" "):"function"==typeof b?f(a,b()):"object"===("undefined"==typeof b?"undefined":_typeof(b))&&Object.getOwnPropertyNames(b).forEach(function(d){var e=d,f=b[d];"function"==typeof f&&(f=f()),f=!!f,f===!0?c.push(e):a.classList.remove(e)}),c.forEach(function(b){d.includes(b)||a.classList.add(b)})}function g(a,b){return b?void Object.keys(b).forEach(function(c){c in a.style&&("function"==typeof b[c]?a.style[c]=b[c]():a.style[c]=b[c])}):void a.removeAttribute("styles")}function h(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),f=2;f<c;f++)d[f-2]=arguments[f];var g=impact.createNode(a),h={},j={};return Array.isArray(b)?d.unshift(b):"function"==typeof b?d.unshift(b):"object"===("undefined"==typeof b?"undefined":_typeof(b))?h=b:"undefined"!=typeof b&&d.unshift(b),d=k(d),d=d.map(function(a){return"function"!=typeof a?l(function(){return""+a}):a}),g.$apply=function(){return e(g,h),i(g,d),g},g.$apply.el=g,g.broadcast=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=Array.prototype.slice.call(g.childNodes);j[a]=j[a]||[],j[a].forEach(function(a){setTimeout(function(){a.call.apply(a,[g].concat(c))})}),e.forEach(function(b){"function"==typeof b.broadcast&&b.broadcast.apply(b,[a].concat(c))})},g.on=function(a,b){j[a]=j[a]||[],"function"==typeof b&&j[a].push(b)},h.event&&(Object.getOwnPropertyNames(h.event).forEach(function(a){var b=h.event[a];g.on(a,b)}),delete h.event),g.$apply}function i(a,b,c){function d(b,c){i=Array.prototype.slice.call(a.childNodes);var d=i.indexOf(b),e=i[c];d!==c&&a.insertBefore(b,e)}function e(b,c){if(!i.includes(b)){var d=a.children[c+1];d?a.insertBefore(b,d):a.appendChild(b),h?j(b,"init"):j(b,"add")}}function f(b,c){k.includes(b)||(b.willBeRemoved||(b.willBeRemoved=!0,j(b,"remove",function(){a.removeChild(b),b.willBeRemoved=!1})),b.willBeRemoved&&k.splice(c,0,b))}function g(a){a.forEach(function(a){if("function"==typeof a){var b=a();Array.isArray(b)?g(b):k.push(b)}})}var h=!a.init,i=Array.prototype.slice.call(a.childNodes),k=[];a.init=!0,g(b),c||i.forEach(f),k.forEach(e),k.forEach(d)}function j(a,c,d){var e=a.animation||{},f=300,g="animation-"+c,h="animating";d=d||function(){},e[c]?!function(){var i=e[c].duration||f;a.style.transitionDuration=i+"ms",a.classList.remove(h),a.classList.add(g),b.requestAnimationFrame(function(){a.classList.add(h),setTimeout(function(){b.requestAnimationFrame(function(){a.classList.remove(g),a.classList.remove(h),a.style.transitionDuration="",d()})},i)})}():d()}function k(a){function b(a){Array.isArray(a)?a.forEach(function(a){return b(a)}):c.push(a)}var c=[];return b(a),c}function l(b){var c=a.createTextNode("");return function(){return c.nodeValue=""+b(),c}}function m(a){for(var b=Date.now(),c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];i(a,d,!0),setTimeout(function(){var a=Date.now();console.log("impact :: render: "+(a-b)+"ms")})}function n(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];setTimeout(function(){b.call.apply(b,[a].concat(d)),o()})}function o(){var b=Date.now();q(a.root);var c=Date.now();t("apply"),console.log("impact :: cycle: "+(c-b)+"ms")}function p(a){"function"!=typeof a.$apply||a.$$phase||(a.$$phase=!0,a.$apply(),a.$$phase=!1)}function q(a){var b=Array.prototype.slice.call(a.childNodes);p(a),b.filter(function(a){return"function"==typeof a.$apply}).forEach(q)}function r(a,b){A[a]=A[a]||[],A[a].push(b)}function s(a,b){A[a]=A[a]||[],A[a].includes(b)&&A[a].splice(A[a].indexOf(b),1)}function t(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];A[a]=A[a]||[],A[a].forEach(function(a){return a.apply(void 0,c)})}function u(a,b){return Array(Math.max(b-String(a).length+1,0)).join(0)+a}function v(a){return"object"===("undefined"==typeof a?"undefined":_typeof(a))&&null!==a?(a.$$hash=a.$$hash||u(++B,5),a.$$hash):""+a}function w(a,b,c){if("function"!=typeof a)return a.map(function(a){return b(a)});var d=function(){var c=x(b);return{v:function(){return c(a())}}}();return"object"===("undefined"==typeof d?"undefined":_typeof(d))?d.v:void 0}function x(a){var b={};return function(c){var d=c.map(v);return Object.keys(b).forEach(function(a){d.includes(a)||delete b[a]}),c.map(function(c){var d=v(c);return b[d]=b[d]||a(c),b[d]})}}function y(a,b){return function(){var c=[];return a()&&c.push(b),c}}function z(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}}var A={},B=0,C=["html","base","head","link","meta","style","title","address","article","aside","footer","h1","h2","h3","h4","h5","h6","header","hgroup","nav","section","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","area","audio","img","map","track","video","embed","object","param","source","canvas","noscript","script","del","ins","caption","cal","colgroup","table","tbody","td","tfoot","th","thead","tr","button","datalist","fieldset","form","input","label","legend","meter","optgroup","option","output","progress","select","textarea","details","dialog","menu","menuitem","summary","shadow","slot","template"],D={for:"htmlFor"},E=["value"];C.forEach(function(a){b[a]=function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return h.apply(void 0,[a].concat(c))}}),a.repeat=w,a.if=y,a.root=document.body,a.createNode=c,a.createTextNode=d,a.render=m,a.text=l,a.on=r,a.off=s,a.emit=t,a.createElement=h,a.debounce=z,a.apply=z(o,5)}("undefined"!=typeof module?module.exports:window.impact={},"undefined"!=typeof module?global:window),function(a,b){b.a=function(){for(var b,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=(b=impact).createElement.apply(b,["a"].concat(d)),g=f();return g.addEventListener("click",function(b){b.preventDefault();var c=a.router.isHtml5Mode()?"":"#",d=g.attributes.item("href").nodeValue;window.history.pushState({},"",c+d)}),"function"==typeof g.onclick&&(g.addEventListener("click",g.onclick),g.onclick=void 0),f}}("undefined"!=typeof module?module.exports:window.impact,"undefined"!=typeof module?global:window),function(a,b){b.form=function(){for(var a,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=(a=impact).createElement.apply(a,["form"].concat(c)),f=e();return"function"!=typeof f.onsubmit&&(f.onsubmit=function(a){return a.preventDefault()}),e}}("undefined"!=typeof module?module.exports:window.impact,"undefined"!=typeof module?global:window),function(a,b){b.input=function(a){var b=a.onkeypress||{};delete a.onkeypress;var c=impact.createElement("input",a),d=c();return d.onkeypress=function(a){b[a.keyCode]&&(b[a.keyCode].call(d,a),impact.apply())},d.$value=function(a){return"undefined"==typeof a?(""+d.value).trim():void(d.value=""+a)},c}}("undefined"!=typeof module?module.exports:window.impact,"undefined"!=typeof module?global:window),function(a,b){function c(){return e?b.location.pathname:b.location.hash.substr(1)}function d(a,b){a.split(".")}var e=!1;a.html5Mode=function(a){return e=!!a},a.isHtml5Mode=function(){return e},a.add=d,a.getCurrentURL=c}("undefined"!=typeof module?module.exports.router={}:window.impact.router={},"undefined"!=typeof module?global:window),function(a){function b(b,c){if(c&&"function"!=typeof c)throw new Error("impact.component(name, controller), argument 2 must be typeof function");if(!c&&!a.components[b]){var d=new Error("impact.component(name), can't find component with name '"+b+"'");return console.error(d),function(){}}return c?void(a.components[b]=c):a.components[b]}function c(b,c,d){function e(a){return"function"==typeof a&&(a=a()),d?JSON.stringify(a):Array.isArray(a)?a.length:"string"==typeof a?a.toString?a.toString():JSON.stringify(a):a}function f(d){var f=e(b);g!=f&&(g=f,c(),d!==!1&&a.apply())}var g=void 0;return f(!1),a.on("apply",f),function(){a.off("apply",f)}}a.watch=c,a.component=b,a.components={}}("undefined"!=typeof module?module.exports:window.impact);