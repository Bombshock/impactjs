/*!
impact-js - v0.0.1
11.01.2017
License: MIT
*/
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a){function b(a){return document.createElement(a)}function c(a){return document.createTextNode(a)}function d(a,b){Object.keys(b).forEach(function(c){var d=b[c];"class"===c?e(a,d):"style"===c?f(a,d):d&&(c=B[c]||c,"function"==typeof d&&0===c.indexOf("on")?a[c]=function(){for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return m.apply(void 0,[a,d].concat(c))}:("function"==typeof d&&(d=d()),C.includes(c)?a.setAttribute(c,d):a[c]=d))})}function e(a,b){var c=[],d=Array.prototype.slice.call(a.classList);"string"==typeof b?c=b.split(" "):"function"==typeof b?e(a,b()):"object"===("undefined"==typeof b?"undefined":_typeof(b))&&Object.getOwnPropertyNames(b).forEach(function(d){var e=d,f=b[d];"function"==typeof f&&(f=f()),f=!!f,f===!0?c.push(e):a.classList.remove(e)}),c.forEach(function(b){d.includes(b)||a.classList.add(b)})}function f(a,b){return b?void Object.keys(b).forEach(function(c){c in a.style&&("function"==typeof b[c]?a.style[c]=b[c]():a.style[c]=b[c])}):void a.removeAttribute("styles")}function g(a,b){for(var c=arguments.length,e=Array(c>2?c-2:0),f=2;f<c;f++)e[f-2]=arguments[f];var g=impact.createNode(a),i={},l={};return Array.isArray(b)?e.unshift(b):"function"==typeof b?e.unshift(b):"object"===("undefined"==typeof b?"undefined":_typeof(b))?i=b:"undefined"!=typeof b&&e.unshift(b),e=j(e),e=e.map(function(a){return"function"!=typeof a?k(function(){return""+a}):a}),g.$apply=function(){return d(g,i),h(g,e),g},g.broadcast=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=Array.prototype.slice.call(g.childNodes);l[a]=l[a]||[],l[a].forEach(function(a){setTimeout(function(){a.call.apply(a,[g].concat(c))})}),e.forEach(function(b){"function"==typeof b.broadcast&&b.broadcast.apply(b,[a].concat(c))})},g.on=function(a,b){l[a]=l[a]||[],"function"==typeof b&&l[a].push(b)},i.event&&(Object.getOwnPropertyNames(i.event).forEach(function(a){var b=i.event[a];g.on(a,b)}),delete i.event),g.$apply}function h(a,b,c){function d(b,c){j=Array.prototype.slice.call(a.childNodes);var d=j.indexOf(b),e=j[c];d!==c&&a.insertBefore(b,e)}function e(b,c){if(!j.includes(b)){var d=a.children[c+1];d?a.insertBefore(b,d):a.appendChild(b),h?i(b,"init"):i(b,"add")}}function f(b,c){k.includes(b)||(b.willBeRemoved||(b.willBeRemoved=!0,i(b,"remove",function(){a.removeChild(b),b.willBeRemoved=!1})),b.willBeRemoved&&k.splice(c,0,b))}function g(a){a.forEach(function(a){if("function"==typeof a){var b=a();Array.isArray(b)?g(b):k.push(b)}})}var h=!a.init,j=Array.prototype.slice.call(a.childNodes),k=[];a.init=!0,g(b),c||j.forEach(f),k.forEach(e),k.forEach(d)}function i(a,b,c){var d=a.animation||{},e=300,f="animation-"+b,g="animating";c=c||function(){},d[b]?!function(){var h=d[b].duration||e;a.style.transitionDuration=h+"ms",a.classList.remove(g),a.classList.add(f),window.requestAnimationFrame(function(){a.classList.add(g),setTimeout(function(){window.requestAnimationFrame(function(){a.classList.remove(f),a.classList.remove(g),a.style.transitionDuration="",c()})},h)})}():c()}function j(a){function b(a){Array.isArray(a)?a.forEach(function(a){return b(a)}):c.push(a)}var c=[];return b(a),c}function k(a){var b=c("");return function(){return b.nodeValue=""+a(),b}}function l(a){for(var b=Date.now(),c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];h(a,d,!0),setTimeout(function(){var a=Date.now();console.log("impact :: render: "+(a-b)+"ms")})}function m(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];setTimeout(function(){b.call.apply(b,[a].concat(d)),n()})}function n(){var b=Date.now();p(a.root);var c=Date.now();s("apply"),console.log("impact :: cycle: "+(c-b)+"ms")}function o(a){"function"!=typeof a.$apply||a.$$phase||(a.$$phase=!0,a.$apply(),a.$$phase=!1)}function p(a){var b=Array.prototype.slice.call(a.childNodes);o(a),b.filter(function(a){return"function"==typeof a.$apply}).forEach(p)}function q(a,b){y[a]=y[a]||[],y[a].push(b)}function r(a,b){y[a]=y[a]||[],y[a].includes(b)&&y[a].splice(y[a].indexOf(b),1)}function s(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];y[a]=y[a]||[],y[a].forEach(function(a){return a.apply(void 0,c)})}function t(a,b){return Array(Math.max(b-String(a).length+1,0)).join(0)+a}function u(a){return"object"===("undefined"==typeof a?"undefined":_typeof(a))&&null!==a?(a.$$hash=a.$$hash||t(++z,5),a.$$hash):""+a}function v(a,b,c){if("function"!=typeof a)return a.map(function(a){return b(a)});var d=function(){var c=w(b);return{v:function(){return c(a())}}}();return"object"===("undefined"==typeof d?"undefined":_typeof(d))?d.v:void 0}function w(a){var b={};return function(c){var d=c.map(u);return Object.keys(b).forEach(function(a){d.includes(a)||delete b[a]}),c.map(function(c){var d=u(c);return b[d]=b[d]||a(c),b[d]})}}function x(a,b){return function(){var c=[];return a()&&c.push(b),c}}var y={},z=0,A=["html","base","head","link","meta","style","title","address","article","aside","footer","h1","h2","h3","h4","h5","h6","header","hgroup","nav","section","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","area","audio","img","map","track","video","embed","object","param","source","canvas","noscript","script","del","ins","caption","cal","colgroup","table","tbody","td","tfoot","th","thead","tr","button","datalist","fieldset","form","input","label","legend","meter","optgroup","option","output","progress","select","textarea","details","dialog","menu","menuitem","summary","shadow","slot","template"],B={for:"htmlFor"},C=["value"];A.forEach(function(a){window[a]=function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return g.apply(void 0,[a].concat(c))}}),a.repeat=v,a.if=x,a.root=document.body,a.createNode=b,a.createTextNode=c,a.render=l,a.text=k,a.on=q,a.off=r,a.emit=s,a.createElement=g,a.apply=n}(window.impact={}),function(a){window.form=function(){for(var a,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=(a=impact).createElement.apply(a,["form"].concat(c)),f=e();return"function"!=typeof f.onsubmit&&(f.onsubmit=function(a){return a.preventDefault()}),e}}(impact),function(a){window.input=function(a){var b=a.onkeypress||{};delete a.onkeypress;var c=impact.createElement("input",a),d=c();return d.onkeypress=function(a){b[a.keyCode]&&(b[a.keyCode].call(d,a),impact.apply())},d.$value=function(a){return"undefined"==typeof a?(""+d.value).trim():void(d.value=""+a)},c}}(impact),function(a){function b(b,c){if(c&&"function"!=typeof c)throw new Error("impact.component(name, controller), argument 2 must be typeof function");if(!c&&!a.components[b])throw new Error("impact.component(name, controller), can't find component with name '"+b+"'");return c?void(a.components[b]=c):a.components[b]}function c(b,c,d){function e(a){return"function"==typeof a&&(a=a()),d?JSON.stringify(a):Array.isArray(a)?a.length:"string"==typeof a?a.toString?a.toString():JSON.stringify(a):a}function f(){var d=e(b);g!=d&&(g=d,c(),a.apply())}var g=void 0;return f(),a.on("apply",f),function(){a.off("apply",f)}}a.watch=c,a.component=b,a.components={}}(impact);