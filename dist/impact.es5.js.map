{"version":3,"sources":["impact.es6.js"],"names":["namespace","events","hashBase","types","attributeTranslations","for","attributeSetterFunctions","createNode","type","document","createElement","createTextNode","text","setProps","el","props","Object","keys","forEach","propName","value","setClass","setStyles","indexOf","args","elNoop","includes","setAttribute","cls","targetClassList","actualClassList","Array","prototype","slice","call","classList","split","getOwnPropertyNames","key","property","push","remove","add","styles","removeAttribute","styleName","style","propsOrChild","children","impact","listener","isArray","unshift","flatten","map","child","dynamicTextNode","$apply","handleChildren","broadcast","event","currentChildNodes","childNodes","fn","setTimeout","node","on","eventName","preventDelete","init","targetChildNodes","needsResort","flattenChildren","removeChild","addChild","sortChild","wantedIndex","currentIndex","swapNode","insertBefore","index","nextNode","appendChild","animateElement","willBeRemoved","splice","childNode","cb","animation","defaultDuration","baseClass","actionClass","duration","transitionDuration","window","requestAnimationFrame","arr","out","handleItem","item","nodeValue","render","start","Date","now","end","console","log","appendArray","applyRoot","applyElement","root","eventEmit","applyOne","$$phase","filter","eventOn","eventOff","data","padDigits","number","digits","Math","max","String","length","join","getHash","obj","$$hash","repeat","trackBy","shadow","shadowArray","shadowTree","hashMap","hash","impIf","debounce","delay","timer","context","arguments","clearTimeout","apply","if","body","off","emit","a","addEventListener","preventDefault","prefix","router","isHtml5Mode","href","attributes","history","pushState","onclick","undefined","form","onsubmit","input","keyPressListener","onkeypress","keyCode","$value","val","trim","html5Mode","routes","getCurrentURL","location","pathname","substr","config","component","name","controller","Error","components","err","error","watch","deep","last","getComparatorValue","JSON","stringify","toString","watcher"],"mappings":"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","file":"impact.es5.js","sourcesContent":["/*!\r\nimpact-js - v0.0.1\r\n15.02.2017\r\nLicense: MIT\r\n*/\r\n//src/core.js\n(function (namespace) {\r\n    \"use strict\";\r\n\r\n    const events = {};\r\n    let hashBase = 0;\r\n\r\n    const types = [\r\n        //https://developer.mozilla.org/en-US/docs/Web/HTML/Element\r\n        //Main root\r\n        \"html\",\r\n        //Document metadata\r\n        \"base\",\r\n        \"head\",\r\n        \"link\",\r\n        \"meta\",\r\n        \"style\",\r\n        \"title\",\r\n        //Content sectioning\r\n        \"address\",\r\n        \"article\",\r\n        \"aside\",\r\n        \"footer\",\r\n        \"h1\",\r\n        \"h2\",\r\n        \"h3\",\r\n        \"h4\",\r\n        \"h5\",\r\n        \"h6\",\r\n        \"header\",\r\n        \"hgroup\",\r\n        \"nav\",\r\n        \"section\",\r\n        //Text content\r\n        \"dd\",\r\n        \"div\",\r\n        \"dl\",\r\n        \"dt\",\r\n        \"figcaption\",\r\n        \"figure\",\r\n        \"hr\",\r\n        \"li\",\r\n        \"main\",\r\n        \"ol\",\r\n        \"p\",\r\n        \"pre\",\r\n        \"ul\",\r\n        //Inline text semantics\r\n        \"a\",\r\n        \"abbr\",\r\n        \"b\",\r\n        \"bdi\",\r\n        \"bdo\",\r\n        \"br\",\r\n        \"cite\",\r\n        \"code\",\r\n        \"data\",\r\n        \"dfn\",\r\n        \"em\",\r\n        \"i\",\r\n        \"kbd\",\r\n        \"mark\",\r\n        \"q\",\r\n        \"rp\",\r\n        \"rt\",\r\n        \"rtc\",\r\n        \"ruby\",\r\n        \"s\",\r\n        \"samp\",\r\n        \"small\",\r\n        \"span\",\r\n        \"strong\",\r\n        \"sub\",\r\n        \"sup\",\r\n        \"time\",\r\n        \"u\",\r\n        \"var\",\r\n        \"wbr\",\r\n        //Image and multimedia\r\n        \"area\",\r\n        \"audio\",\r\n        \"img\",\r\n        \"map\",\r\n        \"track\",\r\n        \"video\",\r\n        //Embedded content\r\n        \"embed\",\r\n        \"object\",\r\n        \"param\",\r\n        \"source\",\r\n        //Scripting\r\n        \"canvas\",\r\n        \"noscript\",\r\n        \"script\",\r\n        //Demarcating edits\r\n        \"del\",\r\n        \"ins\",\r\n        //Table content\r\n        \"caption\",\r\n        \"cal\",\r\n        \"colgroup\",\r\n        \"table\",\r\n        \"tbody\",\r\n        \"td\",\r\n        \"tfoot\",\r\n        \"th\",\r\n        \"thead\",\r\n        \"tr\",\r\n        //Forms\r\n        \"button\",\r\n        \"datalist\",\r\n        \"fieldset\",\r\n        \"form\",\r\n        \"input\",\r\n        \"label\",\r\n        \"legend\",\r\n        \"meter\",\r\n        \"optgroup\",\r\n        \"option\",\r\n        \"output\",\r\n        \"progress\",\r\n        \"select\",\r\n        \"textarea\",\r\n        //Interactive elements\r\n        \"details\",\r\n        \"dialog\",\r\n        \"menu\",\r\n        \"menuitem\",\r\n        \"summary\",\r\n        //Web Components\r\n        \"shadow\",\r\n        \"slot\",\r\n        \"template\"\r\n    ];\r\n\r\n    const attributeTranslations = {\r\n        for: \"htmlFor\"\r\n    };\r\n\r\n    const attributeSetterFunctions = [\r\n        \"value\"\r\n    ];\r\n\r\n    function createNode(type) {\r\n        return document.createElement(type);\r\n    }\r\n\r\n    function createTextNode(text) {\r\n        return document.createTextNode(text);\r\n    }\r\n\r\n    function setProps(el, props) {\r\n        Object.keys(props).forEach((propName) => {\r\n            let value = props[propName];\r\n\r\n            if (propName === \"class\") {\r\n                setClass(el, value);\r\n            } else if (propName === \"style\") {\r\n                setStyles(el, value);\r\n            } else if (value) {\r\n                propName = attributeTranslations[propName] || propName;\r\n\r\n                if (typeof value === \"function\" && propName.indexOf(\"on\") === 0) {\r\n                    el[propName] = (...args) => elNoop(el, value, ...args);\r\n                } else {\r\n                    if (typeof value === \"function\") {\r\n                        value = value();\r\n                    }\r\n\r\n                    if (attributeSetterFunctions.includes(propName)) {\r\n                        el.setAttribute(propName, value);\r\n                    } else {\r\n                        el[propName] = value;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    function setClass(el, cls) {\r\n        let targetClassList = [];\r\n        let actualClassList = Array.prototype.slice.call(el.classList);\r\n\r\n        if (typeof cls === \"string\") {\r\n            targetClassList = cls.split(\" \");\r\n        } else if (typeof cls === \"function\") {\r\n            setClass(el, cls());\r\n        } else if (typeof cls === \"object\") {\r\n            Object.getOwnPropertyNames(cls).forEach((key) => {\r\n                const property = key;\r\n                let value = cls[key];\r\n                if (typeof value === \"function\") {\r\n                    value = value();\r\n                }\r\n\r\n                value = !!value;\r\n\r\n                if (value === true) {\r\n                    targetClassList.push(property);\r\n                } else {\r\n                    el.classList.remove(property);\r\n                }\r\n            });\r\n        }\r\n\r\n        targetClassList.forEach((cls) => {\r\n            if (!actualClassList.includes(cls)) {\r\n                el.classList.add(cls);\r\n            }\r\n        });\r\n    }\r\n\r\n    function setStyles(el, styles) {\r\n        if (!styles) {\r\n            el.removeAttribute(`styles`);\r\n            return;\r\n        }\r\n\r\n        Object.keys(styles).forEach((styleName) => {\r\n            if (styleName in el.style) {\r\n                if (typeof styles[styleName] === \"function\") {\r\n                    el.style[styleName] = styles[styleName]();\r\n                } else {\r\n                    el.style[styleName] = styles[styleName];\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    function createElement(type, propsOrChild, ...children) {\r\n        var el = impact.createNode(type);\r\n        var props = {};\r\n        var listener = {};\r\n\r\n        if (Array.isArray(propsOrChild)) {\r\n            children.unshift(propsOrChild);\r\n        } else if (typeof propsOrChild === \"function\") {\r\n            children.unshift(propsOrChild);\r\n        } else if (typeof propsOrChild === \"object\") {\r\n            props = propsOrChild;\r\n        } else if (typeof propsOrChild !== \"undefined\") {\r\n            children.unshift(propsOrChild);\r\n        }\r\n\r\n        children = flatten(children);\r\n\r\n        children = children.map((child) => {\r\n            if (typeof child !== \"function\") {\r\n                return dynamicTextNode(() => `${child}`);\r\n            } else {\r\n                return child;\r\n            }\r\n        });\r\n\r\n        el.$apply = () => {\r\n            setProps(el, props);\r\n            handleChildren(el, children);\r\n            return el;\r\n        };\r\n\r\n        el.$apply.el = el;\r\n\r\n        el.broadcast = (event, ...args) => {\r\n            const currentChildNodes = Array.prototype.slice.call(el.childNodes);\r\n            listener[event] = listener[event] || [];\r\n            listener[event].forEach((fn) => {\r\n                setTimeout(() => {\r\n                    fn.call(el, ...args);\r\n                });\r\n            });\r\n            currentChildNodes.forEach((node) => {\r\n                if (typeof node.broadcast === \"function\") {\r\n                    node.broadcast(event, ...args);\r\n                }\r\n            });\r\n        };\r\n\r\n        el.on = (event, fn) => {\r\n            listener[event] = listener[event] || [];\r\n            if (typeof fn === \"function\") {\r\n                listener[event].push(fn);\r\n            }\r\n        };\r\n\r\n        if (props.event) {\r\n            Object.getOwnPropertyNames(props.event).forEach((eventName) => {\r\n                let listener = props.event[eventName];\r\n                el.on(eventName, listener);\r\n            });\r\n            delete props.event;\r\n        }\r\n\r\n        return el.$apply;\r\n    }\r\n\r\n    function handleChildren(el, children, preventDelete) {\r\n        var init = !el.init;\r\n        let currentChildNodes = Array.prototype.slice.call(el.childNodes);\r\n        let targetChildNodes = [];\r\n        let needsResort = false;\r\n\r\n        el.init = true;\r\n\r\n        flattenChildren(children);\r\n\r\n        if (!preventDelete) {\r\n            currentChildNodes.forEach(removeChild);\r\n        }\r\n\r\n        targetChildNodes.forEach(addChild);\r\n        targetChildNodes.forEach(sortChild);\r\n\r\n        function sortChild(node, wantedIndex) {\r\n            currentChildNodes = Array.prototype.slice.call(el.childNodes);\r\n\r\n            let currentIndex = currentChildNodes.indexOf(node);\r\n            let swapNode = currentChildNodes[wantedIndex];\r\n\r\n            if (currentIndex !== wantedIndex) {\r\n                el.insertBefore(node, swapNode);\r\n            }\r\n        }\r\n\r\n        function addChild(node, index) {\r\n            if (!currentChildNodes.includes(node)) {\r\n                let nextNode = el.children[index + 1];\r\n\r\n                if (nextNode) {\r\n                    el.insertBefore(node, nextNode);\r\n                } else {\r\n                    el.appendChild(node);\r\n                }\r\n\r\n                if (init) {\r\n                    animateElement(node, \"init\");\r\n                } else {\r\n                    animateElement(node, \"add\");\r\n                }\r\n            }\r\n        }\r\n\r\n        function removeChild(node, index) {\r\n            if (!targetChildNodes.includes(node)) {\r\n                if (!node.willBeRemoved) {\r\n                    node.willBeRemoved = true;\r\n                    animateElement(node, \"remove\", function () {\r\n                        el.removeChild(node);\r\n                        node.willBeRemoved = false;\r\n                    });\r\n                }\r\n\r\n                if (node.willBeRemoved) {\r\n                    targetChildNodes.splice(index, 0, node);\r\n                }\r\n            }\r\n        }\r\n\r\n        function flattenChildren(children) {\r\n            children.forEach((child) => {\r\n                if (typeof child === \"function\") {\r\n                    let childNode = child();\r\n                    if (Array.isArray(childNode)) {\r\n                        flattenChildren(childNode);\r\n                    } else {\r\n                        targetChildNodes.push(childNode);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    function animateElement(el, key, cb) {\r\n        var animation = el.animation || {};\r\n        var defaultDuration = 300;\r\n        var baseClass = \"animation-\" + key;\r\n        var actionClass = \"animating\";\r\n\r\n        cb = cb || (() => { });\r\n\r\n        if (animation[key]) {\r\n            let duration = animation[key].duration || defaultDuration;\r\n\r\n            el.style.transitionDuration = duration + \"ms\";\r\n            el.classList.remove(actionClass);\r\n            el.classList.add(baseClass);\r\n\r\n            window.requestAnimationFrame(() => {\r\n                el.classList.add(actionClass);\r\n                setTimeout(() => {\r\n                    window.requestAnimationFrame(() => {\r\n                        el.classList.remove(baseClass);\r\n                        el.classList.remove(actionClass);\r\n                        el.style.transitionDuration = \"\";\r\n                        cb();\r\n                    });\r\n                }, duration);\r\n            });\r\n        } else {\r\n            cb();\r\n        }\r\n    }\r\n\r\n    function flatten(arr) {\r\n        let out = [];\r\n\r\n        handleItem(arr);\r\n\r\n        return out;\r\n\r\n        function handleItem(item) {\r\n            if (Array.isArray(item)) {\r\n                item.forEach((item) => handleItem(item));\r\n            } else {\r\n                out.push(item);\r\n            }\r\n        }\r\n    }\r\n\r\n    function dynamicTextNode(fn) {\r\n        var node = createTextNode(\"\");\r\n        return () => {\r\n            node.nodeValue = `${fn()}`;\r\n            return node;\r\n        };\r\n    }\r\n\r\n    function render(node, ...children) {\r\n        const start = Date.now();\r\n\r\n        handleChildren(node, children, true);\r\n\r\n        setTimeout(() => {\r\n            const end = Date.now();\r\n            console.log(`impact :: render: ${end - start}ms`);\r\n        });\r\n\r\n        function appendArray(arr) {\r\n            arr.forEach((child) => {\r\n                if (Array.isArray(child)) {\r\n                    appendArray(child);\r\n                } else {\r\n                    node.appendChild(child());\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    function elNoop(el, fn, ...args) {\r\n        setTimeout(() => {\r\n            fn.call(el, ...args);\r\n            applyRoot();\r\n        });\r\n    }\r\n\r\n    function applyRoot() {\r\n        const start = Date.now();\r\n        applyElement(namespace.root);\r\n        const end = Date.now();\r\n        eventEmit(\"apply\");\r\n        console.log(`impact :: cycle: ${end - start}ms`);\r\n    }\r\n\r\n    function applyOne(el) {\r\n        if (typeof el.$apply === \"function\" && !el.$$phase) {\r\n            el.$$phase = true;\r\n            el.$apply();\r\n            el.$$phase = false;\r\n        }\r\n    }\r\n\r\n    function applyElement(el) {\r\n        var childNodes = Array.prototype.slice.call(el.childNodes);\r\n\r\n        applyOne(el);\r\n\r\n        childNodes\r\n            .filter((node) => typeof node.$apply === \"function\")\r\n            .forEach(applyElement);\r\n    }\r\n\r\n    function eventOn(event, fn) {\r\n        events[event] = events[event] || [];\r\n        events[event].push(fn);\r\n    }\r\n\r\n    function eventOff(event, fn) {\r\n        events[event] = events[event] || [];\r\n        if (events[event].includes(fn)) {\r\n            events[event].splice(events[event].indexOf(fn), 1);\r\n        }\r\n    }\r\n\r\n    function eventEmit(event, ...data) {\r\n        events[event] = events[event] || [];\r\n        events[event].forEach((fn) => fn(...data));\r\n    }\r\n\r\n    //http://stackoverflow.com/questions/10073699/pad-a-number-with-leading-zeros-in-javascript    \r\n    function padDigits(number, digits) {\r\n        return Array(Math.max(digits - String(number).length + 1, 0)).join(0) + number;\r\n    }\r\n\r\n    function getHash(obj) {\r\n        if (typeof obj === \"object\" && obj !== null) {\r\n            obj.$$hash = obj.$$hash || padDigits(++hashBase, 5);\r\n            return obj.$$hash;\r\n        } else {\r\n            return `${obj}`;\r\n        }\r\n    }\r\n\r\n    function repeat(arr, fn, trackBy) {\r\n        if (typeof arr === \"function\") {\r\n            const shadow = shadowArray(fn);\r\n            return () => shadow(arr());\r\n        } else {\r\n            return arr.map((item) => fn(item));\r\n        }\r\n    }\r\n\r\n    function shadowArray(fn) {\r\n        var shadowTree = {};\r\n\r\n        return (arr) => {\r\n            let hashMap = arr.map(getHash);\r\n\r\n            Object.keys(shadowTree).forEach((hash) => {\r\n                if (!hashMap.includes(hash)) {\r\n                    delete shadowTree[hash];\r\n                }\r\n            });\r\n\r\n            return arr.map((item) => {\r\n                var hash = getHash(item);\r\n                shadowTree[hash] = shadowTree[hash] || fn(item);\r\n                return shadowTree[hash];\r\n            });\r\n        };\r\n    }\r\n\r\n    function impIf(fn, child) {\r\n        return () => {\r\n            let out = [];\r\n            if (fn()) {\r\n                out.push(child);\r\n            }\r\n            return out;\r\n        };\r\n    }\r\n\r\n    function debounce(fn, delay) {\r\n        var timer = null;\r\n        return function () {\r\n            var context = this, args = arguments;\r\n            clearTimeout(timer);\r\n            timer = setTimeout(function () {\r\n                fn.apply(context, args);\r\n            }, delay);\r\n        };\r\n    }\r\n\r\n    types.forEach((type) => {\r\n        window[type] = (...args) => createElement(type, ...args);\r\n    });\r\n\r\n    namespace.repeat = repeat;\r\n    namespace.if = impIf;\r\n    namespace.root = document.body;\r\n    namespace.createNode = createNode;\r\n    namespace.createTextNode = createTextNode;\r\n    namespace.render = render;\r\n    namespace.text = dynamicTextNode;\r\n    namespace.on = eventOn;\r\n    namespace.off = eventOff;\r\n    namespace.emit = eventEmit;\r\n    namespace.createElement = createElement;\r\n    namespace.debounce = debounce;\r\n    namespace.apply = debounce(applyRoot, 5);\r\n\r\n})(window.impact = {});\r\n\r\n//src/elements/a.js\n\r\n(function (namespace) {\r\n    \"use strict\";\r\n\r\n    window.a = (...args) => {\r\n        var apply = impact.createElement(\"a\", ...args);\r\n        var el = apply();\r\n\r\n        el.addEventListener(\"click\", (event) => {\r\n            event.preventDefault();\r\n\r\n            let prefix = namespace.router.isHtml5Mode() ? \"\" : \"#\";\r\n            let href = el.attributes.item(\"href\").nodeValue;\r\n            window.history.pushState({}, \"\", prefix + href);\r\n        });\r\n\r\n        if (typeof el.onclick === \"function\") {\r\n            el.addEventListener(\"click\", el.onclick);\r\n            el.onclick = undefined;\r\n        }\r\n\r\n        return apply;\r\n    };\r\n\r\n})(window.impact);\r\n\r\n//src/elements/form.js\n\r\n(function (namespace) {\r\n    \"use strict\";\r\n\r\n    window.form = (...args) => {\r\n        var apply = impact.createElement(\"form\", ...args);\r\n        var el = apply();\r\n\r\n        if (typeof el.onsubmit !== \"function\") {\r\n            el.onsubmit = (event) => event.preventDefault();\r\n        }\r\n\r\n        return apply;\r\n    };\r\n\r\n})(impact);\r\n\r\n//src/elements/input.js\n\r\n(function (namespace) {\r\n    \"use strict\";\r\n\r\n    window.input = (props) => {\r\n        var keyPressListener = props.onkeypress || {};\r\n        delete props.onkeypress;\r\n\r\n        var apply = impact.createElement(\"input\", props);\r\n        var el = apply();\r\n\r\n        el.onkeypress = (event) => {\r\n            if (keyPressListener[event.keyCode]) {\r\n                keyPressListener[event.keyCode].call(el, event);\r\n                impact.apply();\r\n            }\r\n        }\r\n\r\n        el.$value = (val) => {\r\n            if (typeof val !== \"undefined\") {\r\n                el.value = `${val}`\r\n            } else {\r\n                return `${el.value}`.trim();\r\n            }\r\n        }\r\n\r\n        return apply;\r\n    };\r\n\r\n})(impact);\r\n\r\n//src/router.js\n\r\n(function (namespace) {\r\n    \"use strict\";\r\n\r\n    let html5Mode = false;\r\n    const routes = {};\r\n\r\n    function getCurrentURL() {\r\n        if (html5Mode) {\r\n            return window.location.pathname;\r\n        } else {\r\n            return window.location.hash.substr(1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param key the key for this Configuration. Causes the nesting with a dotnotation.\r\n     * @param config the confugration for this state. Can have the following options:\r\n     *          # url <string>: url chunk for the given state. Trailing and leading slashes will be stripped\r\n     *          # component <string>: name of the component to be rendered\r\n     *          # args <fn|array|object>: arguments for the component to be instantiated with\r\n     *          # views <key, object>: named objects for sub views, can have `component` and `args` attributes\r\n     */\r\n\r\n    function add(key, config) {\r\n        var keys = key.split(\".\");\r\n    }\r\n\r\n    namespace.html5Mode = (val) => html5Mode = !!val;\r\n    namespace.isHtml5Mode = () => html5Mode;\r\n    namespace.add = add;\r\n    namespace.getCurrentURL = getCurrentURL;\r\n\r\n})(window.impact.router = {});\r\n\r\n//src/util.js\n(function (namespace) {\r\n    \"use strict\";\r\n\r\n    function component(name, controller) {\r\n\r\n        if (controller && typeof controller !== \"function\") {\r\n            throw new Error(\"impact.component(name, controller), argument 2 must be typeof function\");\r\n        }\r\n\r\n        if (!controller && !namespace.components[name]) {\r\n            let err = new Error(\"impact.component(name), can't find component with name '\" + name + \"'\");\r\n            console.error(err);\r\n            return () => {};\r\n        }\r\n\r\n        if (controller) {\r\n            namespace.components[name] = controller;\r\n        } else {\r\n            return namespace.components[name];\r\n        }\r\n    }\r\n\r\n    function watch(item, cb, deep) {\r\n        let last;\r\n\r\n        function getComparatorValue(obj) {\r\n            if (typeof obj === \"function\") {\r\n                obj = obj();\r\n            }\r\n\r\n            if (deep) {\r\n                return JSON.stringify(obj);\r\n            }\r\n\r\n            if (Array.isArray(obj)) {\r\n                return obj.length;\r\n            } else if (typeof obj === \"string\") {\r\n                return obj.toString ? obj.toString() : JSON.stringify(obj);\r\n            } else {\r\n                return obj;\r\n            }\r\n        }\r\n\r\n        function watcher(apply) {\r\n            let now = getComparatorValue(item);\r\n            if (last != now) {\r\n                last = now;\r\n                cb();\r\n                if (apply !== false) {\r\n                    namespace.apply();\r\n                }\r\n            }\r\n        }\r\n\r\n        watcher(false);\r\n        namespace.on(\"apply\", watcher);\r\n        return () => {\r\n            namespace.off(\"apply\", watcher);\r\n        };\r\n    }\r\n\r\n    namespace.watch = watch;\r\n    namespace.component = component;\r\n    namespace.components = {};\r\n\r\n})(impact);"]}